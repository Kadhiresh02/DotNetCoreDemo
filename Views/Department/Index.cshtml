
@{
	ViewData["Title"] = "Department List";
}

@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
<h2>
	Current DateTime and Year :@HttpContextAccessor.HttpContext.Session.GetString("CurrentDateTime"),
	@HttpContextAccessor.HttpContext.Session.GetInt32("CurrentYear");
</h2>
@model IEnumerable<Department>
<h1 class="bg-info text-white">Department List</h1>
<a asp-action="Create" class="btn btn-secondary">Create Department</a>
<h3>Current DateTime and Year :@ViewBag.CurrentDateTime and @ViewBag.CurrentYear </h3>
<h3>Current User :@ViewBag.CurrentUser</h3>
<table class="table table-sm table-bordered">
	<tr>
		<th>Id</th>
		<th>Name</th>
		<th>Update</th>
		<th>Delete</th>
	</tr>
	@foreach(Department dept in Model)
	{
		<tr>
			<td>@dept.Id</td>
			<td>@dept.Name</td>
			<td><a class="btn btn-sm btn-primary" asp-action="Update"
			asp-route-id="@dept.Id">Update</a></td>
			<td>
				<form asp-action="Delete" asp-route-id="@dept.Id" method="post">
					<button type="submit" class="btn btn-sm btn-success">Delete</button>
				</form>
			</td>
		</tr>
	}
</table>
